## Локализация своих скриптов на BASH, часть 2

Это продолжение статьи [Локализация своих скриптов на BASH](https://habr.com/ru/post/539586/)
В ней мы используя массивы и косвенные ссылки научились добавлять в свои скрипты дополнительные языки и переключаться между ними.
В этой статье составим список встроенных языков и зададим выбор языка через меню. построив для этого многоуровневое меню.

### Создание меню
В прошлой статье для вывода меню на экран и выбора необходимого пункта мы использовали цикл *for* и оператор выбора *case*. Очевидно, что для создания многоуровнего меню эти шаги нужно будет повторить несколько раз, то есть для каждого подменю. При этом придется заново создавать шапку меню, внешний вид и так далее.
Хороший способ этого избежать - вынести *for*, *case* и *read* в отдельную функцию, а далее будем просто передавать в неё необходимые параметры.

Назовём эту функцию *prints()*:
```bash
prints() {
	local menu=("${!1}")
		
	colors "title" "---$(prints "text" "${menu[0]}")---"
	
	for (( op=1; op < "${#menu[@]}"; op++ )); do 

		colors "item" "$op ) $(prints "text" "${menu[$op]}")"
	done
	
	echo ----------

	read -s -n1 -p "$(colors "item" "$2: ")" item	
	
	case $item in
		[1-$((${#menu[@]}-1))] ) colors "ok" "[$item]->: $(prints "text" "${menu[$item]}")"
		$(prints "command" "${menu[$item]}") ;;
		"q" ) echo; exit;;
		* ) colors "err" "[$item]->: ${msg[2]}"; sleep 2 ;;
	esac	
}
```
