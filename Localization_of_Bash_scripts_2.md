## Локализация своих скриптов на BASH, часть 2

Это продолжение статьи [Локализация своих скриптов на BASH](https://habr.com/ru/post/539586/)
В ней мы используя массивы и косвенные ссылки научились добавлять в свои скрипты дополнительные языки и переключаться между ними.
В этой статье составим список встроенных языков и зададим выбор языка через меню. построив для этого многоуровневое меню. Чтобы статья не превратилась в один большой кусок кода с описанием каждой строчки, сам код с подробными комментариями я выложу ниже, а здесь затрону только несколько основных моментов.

### Создание меню
В прошлой статье для вывода меню на экран и выбора необходимого пункта мы использовали цикл *for* и оператор выбора *case*. Очевидно, что для создания многоуровнего меню эти шаги нужно будет повторить несколько раз, то есть для каждого подменю. При этом придется заново создавать шапку меню, внешний вид и так далее.
Хороший способ этого избежать - вынести *for*, *case* и *read* в отдельную функцию, а далее будем просто передавать в неё необходимые параметры. Все сценарии, которые будут выполнятся при выборе тех или иных пунктов меню также будут вынесены в соответствующие функции. 
Так, чтобы добавить в скрипт новое действие:
- добавляем в языковой массив слова и фразы
- в массив с основным или дополнительным меню вставляем соответствующий пункт и команду вызова функции
- добавляем функцию с необходимым фрагментом кода

Для начала создадим основное меню, которое сразу появится на экране при запуске скрипта. Поместим его в функцию *main*:
```bash
main() {
	local menu0=("${lng[3]};main" "${lng[4]};gitadd" "${lng[5]};gitinit" "${lng[2]};options" "${lng[1]};exit")
		
	while true ; do
		
		prints "menu0[@]" "${msg[1]}"
	done
}

main
```
	В каждый элемент в текстовую часть добавляем название необходимого пункта меню, а через разделитель [;], в командную часть, добавляем соответствующую команду вызова функции
	 Здесь и в других массивах меню первая запись - это название и команда вызова текущей функции. Необходимо для того, чтобы передавать название меню для печати шапки и для вызова этой функции при необходимости
	
	Передаем массив в функцию вывода на экран
	Вторым параметром идет сообщение, которое отобразится в строке приглашения





